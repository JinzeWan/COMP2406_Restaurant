<html>
	<head><title>Home Page</title></head>

	<body>
		Welcome to home page.<br>
		User Name: <input type = "text" id = "name"> Password: <input type = "text" id = "pass"><br>
		<input type = "submit" onclick = "login()" value = "login"><br>		
		<a href="/">Home page</a><br>
		<a href="/users">Users page</a><br>
		<a href="/registration">Registration page</a><br>
	</body>
	<script>
		function login(){
			let name = document.getElementById("name").value;
			let password = document.getElementById("pass").value;
			let u = {};
			u.username = name;
			u.password = password;

            let req = new XMLHttpRequest();
            req.onreadystatechange = function (){
                if(this.readyState == 4 && this.status == 200){
                    alert("login success!");
					window.location.href='/';					
                }
                else if(this.readyState == 4 && this.status == 401){
                    alert("Invalid username or password");
                }				
            };

            req.open('POST',`/login`, true);
            req.setRequestHeader("Content-type", "application/json");
            req.send(JSON.stringify(u));			
		}

	</script>
</html>